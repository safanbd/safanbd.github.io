function toSecondsOnly(e){"use strict";for(var t=e.split(":"),n=0,r=1;0<t.length;)n+=r*parseInt(t.pop(),10),r*=60;return n}document.addEventListener("DOMContentLoaded",function(e){"use strict";for(var t,n,r,o,c=document.querySelectorAll(".page-segment"),a=document.querySelector(".page-nav__list"),i=0;i<c.length;i++)(n=c[i]).classList.contains("card--product")?a.innerHTML+='<li class="page-nav__item page-nav__item--product"><a data-scroll href="#'+n.id+'"">'+n.dataset.name+"</a></li>":(t=getClosest(n,".content-section")).classList.contains("content-section--include")?a.innerHTML+='<li class="page-nav__group">'+n.firstChild.textContent+"</li>":a.innerHTML+='<li class="page-nav__item"><a data-scroll href="#'+t.id+'"">'+n.firstChild.textContent+"</a></li>";function l(){for(var e=!1,t=0;t<a.children.length;t++)a.children[t].classList.remove("active"),r=c[t].getBoundingClientRect(),o=r.top+-100,e||(0==t&&0<o||t==a.children.length-1&&o<0?(a.children[t].classList.add("active"),e=!0):0<o&&(a.children[t-1].classList.add("active"),e=!0))}var s=document.querySelector(".page-nav__prev"),d=document.querySelector(".page-nav__next"),u=document.querySelector(".page-nav__toggle"),p=document.querySelector(".page-nav"),v=document.querySelectorAll(".page-nav__item"),f=document.querySelectorAll(".page-nav__item a");s.addEventListener("click",function(e){e.preventDefault();for(var t=0;t<v.length;t++)v[t].classList.contains("active")&&0<t&&v[t-1].firstChild.click()},!1);d.addEventListener("click",function(e){e.preventDefault();for(var t=0;t<v.length;t++)v[t].classList.contains("active")&&t<v.length-1&&v[t+1].firstChild.click()},!1);var m;u.addEventListener("click",function(e){e.preventDefault(),p.classList.toggle("reveal")},!1);for(i=0;i<f.length;i++)f[i].addEventListener("click",function(){p.classList.remove("reveal")},!1);window.onscroll=function(e){m&&window.clearTimeout(m),m=window.setTimeout(function(){l()},100)},l();new Swiper(".preview-slider",{slidesPerView:1,speed:400,pagination:{el:".swiper-pagination",clickable:!0},watchOverflow:!0,simulateTouch:!1,observer:!0,observeParents:!0,autoHeight:!0});var g=document.querySelectorAll(".play-video"),h=function(e){e.preventDefault();var t=document.querySelector("[src*= "+this.dataset.target+"]"),n=-1<t.dataset.src.indexOf("?")?"&":"?",r=toSecondsOnly(this.dataset.time);t.src=t.dataset.src+n+"autoplay=1&start="+r};if(g)for(i=0;i<g.length;i++)g[i].addEventListener("click",h,!1);var _=document.querySelectorAll(".form__input"),y=function(){getClosest(this,".form__group").classList.add("focus")},L=function(){getClosest(this,".form__group").classList.remove("focus")};if(_){for(i=0;i<_.length;i++)_[i].addEventListener("focus",y,!1);for(i=0;i<_.length;i++)_[i].addEventListener("blur",L,!1)}});var getClosest=function(e,t){"use strict";for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;0<=--n&&t.item(n)!==this;);return-1<n});e&&e!==document;e=e.parentNode)if(e.matches(t))return e;return null};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhZ2UtcG9zdC5qcyJdLCJuYW1lcyI6WyJ0b1NlY29uZHNPbmx5IiwidGltZV9mb3JtYXQiLCJkaWdpdCIsInNwbGl0Iiwic2Vjb25kcyIsIm11bHRpIiwibGVuZ3RoIiwicGFyc2VJbnQiLCJwb3AiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsImNvbnRlbnRfc2VjdGlvbiIsInBhZ2VfbmF2X2l0ZW0iLCJzZWdtZW50X3Bvc2l0aW9uIiwidG9wX2N1cnJlbnQiLCJwYWdlX3NlZ21lbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsInBhZ2VfbmF2IiwicXVlcnlTZWxlY3RvciIsImkiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsImlubmVySFRNTCIsImlkIiwiZGF0YXNldCIsIm5hbWUiLCJnZXRDbG9zZXN0IiwiZmlyc3RDaGlsZCIsInRleHRDb250ZW50IiwiY3VycmVudF9zZWdtZW50IiwiZmluZF9hY3RpdmUiLCJqIiwiY2hpbGRyZW4iLCJyZW1vdmUiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJhZGQiLCJzZWN0aW9uX3ByZXYiLCJzZWN0aW9uX25leHQiLCJwYWdlX25hdl90b2dnbGUiLCJwYWdlX25hdl93cmFwIiwicGFnZV9uYXZfaXRlbXMiLCJwYWdlX25hdl9saW5rIiwiZSIsInByZXZlbnREZWZhdWx0IiwiayIsImNsaWNrIiwidGltZXIiLCJ0b2dnbGUiLCJ3aW5kb3ciLCJvbnNjcm9sbCIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJTd2lwZXIiLCJzbGlkZXNQZXJWaWV3Iiwic3BlZWQiLCJwYWdpbmF0aW9uIiwiZWwiLCJjbGlja2FibGUiLCJ3YXRjaE92ZXJmbG93Iiwic2ltdWxhdGVUb3VjaCIsIm9ic2VydmVyIiwib2JzZXJ2ZVBhcmVudHMiLCJhdXRvSGVpZ2h0IiwicGxheV9jb250cm9scyIsInBsYXlWaWRlbyIsInRhcmdldF92aWRlbyIsInRoaXMiLCJ0YXJnZXQiLCJzeW1ib2wiLCJzcmMiLCJpbmRleE9mIiwidGltZXN0YW1wIiwidGltZSIsImZvcm1faW5wdXQiLCJpbnB1dEZvY3VzIiwiaW5wdXRCbHVyIiwiZWxlbSIsInNlbGVjdG9yIiwiRWxlbWVudCIsInByb3RvdHlwZSIsIm1hdGNoZXMiLCJtYXRjaGVzU2VsZWN0b3IiLCJtb3pNYXRjaGVzU2VsZWN0b3IiLCJtc01hdGNoZXNTZWxlY3RvciIsIm9NYXRjaGVzU2VsZWN0b3IiLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiLCJzIiwib3duZXJEb2N1bWVudCIsIml0ZW0iLCJwYXJlbnROb2RlIl0sIm1hcHBpbmdzIjoiQUEyTEEsU0FBU0EsY0FBY0MsR0FDdEIsYUFLRyxJQUhBLElBQUlDLEVBQVFELEVBQVlFLE1BQU0sS0FDMUJDLEVBQVUsRUFBR0MsRUFBUSxFQUVILEVBQWZILEVBQU1JLFFBQ1RGLEdBQVdDLEVBQVFFLFNBQVNMLEVBQU1NLE1BQU8sSUFDekNILEdBQVMsR0FHYixPQUFPRCxFQXRNWEssU0FBU0MsaUJBQWlCLG1CQUFvQixTQUFTQyxHQUN0RCxhQWNBLElBVkEsSUFFQ0MsRUFDQUMsRUFDQUMsRUFDQUMsRUFMR0MsRUFBZ0JQLFNBQVNRLGlCQUFpQixpQkFDN0NDLEVBQVdULFNBQVNVLGNBQWMsbUJBUzFCQyxFQUFJLEVBQUdBLEVBQUlKLEVBQWNWLE9BQVFjLEtBQ3pDUCxFQUFnQkcsRUFBY0ksSUFFWkMsVUFBVUMsU0FBUyxpQkFDcENKLEVBQVNLLFdBQWEsNEVBQThFVixFQUFjVyxHQUFLLE1BQVFYLEVBQWNZLFFBQVFDLEtBQU8sYUFFNUpkLEVBQWtCZSxXQUFXZCxFQUFlLHFCQUV4QlEsVUFBVUMsU0FBUyw0QkFDdENKLEVBQVNLLFdBQWEsK0JBQWlDVixFQUFjZSxXQUFXQyxZQUFjLFFBRTlGWCxFQUFTSyxXQUFhLG9EQUFzRFgsRUFBZ0JZLEdBQUssTUFBUVgsRUFBY2UsV0FBV0MsWUFBYyxZQU9uSixTQUFTQyxJQUdSLElBRkEsSUFBSUMsR0FBYyxFQUVUQyxFQUFJLEVBQUdBLEVBQUlkLEVBQVNl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RUFBSSxFQUFHQSxFQUFJdUQsRUFBV3JFLE9BQVFjLElBQ25DdUQsRUFBV3ZELEdBQUdWLGlCQUFpQixRQUFTa0UsR0FBWSxHQUd4RCxJQUFTeEQsRUFBSSxFQUFHQSxFQUFJdUQsRUFBV3JFLE9BQVFjLElBQ25DdUQsRUFBV3ZELEdBQUdWLGlCQUFpQixPQUFRbUUsR0FBVyxNQXFCeEQsSUFBSWxELFdBQWEsU0FBV21ELEVBQU1DLEdBQ2pDLGFBbUJBLElBaEJLQyxRQUFRQyxVQUFVQyxVQUN0QkYsUUFBUUMsVUFBVUMsUUFDakJGLFFBQVFDLFVBQVVFLGlCQUNsQkgsUUFBUUMsVUFBVUcsb0JBQ2xCSixRQUFRQyxVQUFVSSxtQkFDbEJMLFFBQVFDLFVBQVVLLGtCQUNsQk4sUUFBUUMsVUFBVU0sdUJBQ2xCLFNBQVNDLEdBR1IsSUFGQSxJQUFJTixHQUFXZCxLQUFLM0QsVUFBWTJELEtBQUtxQixlQUFleEUsaUJBQWlCdUUsR0FDcEVwRSxFQUFJOEQsRUFBUTVFLE9BQ0MsS0FBTGMsR0FBVThELEVBQVFRLEtBQUt0RSxLQUFPZ0QsT0FDdkMsT0FBWSxFQUFMaEQsSUFLRjBELEdBQVFBLElBQVNyRSxTQUFVcUUsRUFBT0EsRUFBS2EsV0FDOUMsR0FBS2IsRUFBS0ksUUFBU0gsR0FBYSxPQUFPRCxFQUd4QyxPQUFPIiwiZmlsZSI6InBhZ2UtcG9zdC1taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBmdW5jdGlvbihldmVudCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHQvLyBQYWdlIHNjcm9sbCBuYXZpZ2F0aW9uXG5cdC8vIGluaXQgZWxlbWVudHMgYW5kIHZhcmlhYmxlc1xuXHR2YXIgcGFnZV9zZWdtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wYWdlLXNlZ21lbnQnKSxcblx0XHRwYWdlX25hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdlLW5hdl9fbGlzdCcpLFxuXHRcdGNvbnRlbnRfc2VjdGlvbiwgXG5cdFx0cGFnZV9uYXZfaXRlbSwgXG5cdFx0c2VnbWVudF9wb3NpdGlvbiwgXG5cdFx0dG9wX2N1cnJlbnQsXG5cdFx0b2Zmc2V0ID0gLTEwMDtcblxuXG5cdC8vIGdlbmVyYXRlIHBhZ2UgbmF2IGJvZHlcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBwYWdlX3NlZ21lbnRzLmxlbmd0aDsgaSsrKXtcblx0XHRwYWdlX25hdl9pdGVtID0gcGFnZV9zZWdtZW50c1tpXTtcblx0XHRcblx0XHRpZiggcGFnZV9uYXZfaXRlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2NhcmQtLXByb2R1Y3QnKSApe1xuXHRcdFx0cGFnZV9uYXYuaW5uZXJIVE1MICs9ICc8bGkgY2xhc3M9XCJwYWdlLW5hdl9faXRlbSBwYWdlLW5hdl9faXRlbS0tcHJvZHVjdFwiPjxhIGRhdGEtc2Nyb2xsIGhyZWY9XCIjJyArIHBhZ2VfbmF2X2l0ZW0uaWQgKyAnXCJcIj4nICsgcGFnZV9uYXZfaXRlbS5kYXRhc2V0Lm5hbWUgKyAnPC9hPjwvbGk+Jztcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29udGVudF9zZWN0aW9uID0gZ2V0Q2xvc2VzdChwYWdlX25hdl9pdGVtLCAnLmNvbnRlbnQtc2VjdGlvbicpO1xuXG5cdFx0XHRpZiggY29udGVudF9zZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucygnY29udGVudC1zZWN0aW9uLS1pbmNsdWRlJykgKXtcblx0XHRcdFx0cGFnZV9uYXYuaW5uZXJIVE1MICs9ICc8bGkgY2xhc3M9XCJwYWdlLW5hdl9fZ3JvdXBcIj4nICsgcGFnZV9uYXZfaXRlbS5maXJzdENoaWxkLnRleHRDb250ZW50ICsgJzwvbGk+Jztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHBhZ2VfbmF2LmlubmVySFRNTCArPSAnPGxpIGNsYXNzPVwicGFnZS1uYXZfX2l0ZW1cIj48YSBkYXRhLXNjcm9sbCBocmVmPVwiIycgKyBjb250ZW50X3NlY3Rpb24uaWQgKyAnXCJcIj4nICsgcGFnZV9uYXZfaXRlbS5maXJzdENoaWxkLnRleHRDb250ZW50ICsgJzwvYT48L2xpPic7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblxuXHQvLyBjYWxjdWxhdGUgYW5kIGhpZ2hsaWdodCBjdXJyZW50IHNlZ21lbnRcblx0ZnVuY3Rpb24gY3VycmVudF9zZWdtZW50KCl7XG5cdFx0dmFyIGZpbmRfYWN0aXZlID0gZmFsc2U7XG5cblx0XHRmb3IgKHZhciBqID0gMDsgaiA8IHBhZ2VfbmF2LmNoaWxkcmVuLmxlbmd0aDsgaisrKXtcblx0XHRcdC8vIC0gY2xlYXIgYWN0aXZlIHN0eWxpbmcgY2xhc3Ncblx0XHRcdHBhZ2VfbmF2LmNoaWxkcmVuW2pdLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuXG5cdFx0XHQvLyAtIGZpbmQgc2VnbWVudHMgcG9zaXRpb24gXG5cdFx0XHRzZWdtZW50X3Bvc2l0aW9uID0gcGFnZV9zZWdtZW50c1tqXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0XHRcdHRvcF9jdXJyZW50ID0gc2VnbWVudF9wb3NpdGlvbi50b3AgKyBvZmZzZXQ7XG5cblx0XHRcdC8vIC0gYWRkIGFjdGl2ZSBzdHlsaW5nIGNsYXNzIGZvciBzdWl0YWJsZSBzZWdtZW50IGluZGljYXRvclxuXHRcdFx0aWYgKCFmaW5kX2FjdGl2ZSl7XG5cdFx0XHRcdFx0aWYgKCAoaiA9PSAwICYmIHRvcF9jdXJyZW50ID4gMCkgfHwgKGogPT0gKHBhZ2VfbmF2LmNoaWxkcmVuLmxlbmd0aCAtIDEpICYmIHRvcF9jdXJyZW50IDwgMCkgKSB7XG5cdFx0XHRcdFx0cGFnZV9uYXYuY2hpbGRyZW5bal0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG5cdFx0XHRcdFx0ZmluZF9hY3RpdmUgPSB0cnVlO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHRvcF9jdXJyZW50ID4gMCkge1xuXHRcdFx0XHRcdHBhZ2VfbmF2LmNoaWxkcmVuW2ogLSAxXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcblx0XHRcdFx0XHRmaW5kX2FjdGl2ZSA9IHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXG5cdC8vIGRlZmluZSBjb250b2xzIChwcmV2LCBuZXh0IGFuZCB0b2dnbGUpIGFuZCBuYXYgbGlua3MgYmVoYXZpb3VyIG9uIGNsaWNrXG5cdHZhciBzZWN0aW9uX3ByZXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFnZS1uYXZfX3ByZXYnKSxcblx0XHRzZWN0aW9uX25leHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFnZS1uYXZfX25leHQnKSxcblx0XHRwYWdlX25hdl90b2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFnZS1uYXZfX3RvZ2dsZScpO1xuXG5cdHZhciBwYWdlX25hdl93cmFwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhZ2UtbmF2JyksXG5cdFx0cGFnZV9uYXZfaXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGFnZS1uYXZfX2l0ZW0nKSxcblx0XHRwYWdlX25hdl9saW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBhZ2UtbmF2X19pdGVtIGEnKTtcblxuXHQvLyAtIHByZXYgc2VjdGlvblxuXHR2YXIgc2VjdGlvblByZXYgPSBmdW5jdGlvbihlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFxuXHRcdGZvciAodmFyIGsgPSAwOyBrIDwgcGFnZV9uYXZfaXRlbXMubGVuZ3RoOyBrKyspe1xuXHRcdFx0aWYoIHBhZ2VfbmF2X2l0ZW1zW2tdLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykgJiYgayA+IDApe1xuXHRcdFx0XHRwYWdlX25hdl9pdGVtc1trIC0gMV0uZmlyc3RDaGlsZC5jbGljaygpO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblxuXHRzZWN0aW9uX3ByZXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzZWN0aW9uUHJldiwgZmFsc2UpO1xuXG5cdC8vIC0gbmV4dCBzZWN0aW9uXG5cdHZhciBzZWN0aW9uTmV4dCA9IGZ1bmN0aW9uKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRmb3IgKHZhciBrID0gMDsgayA8IHBhZ2VfbmF2X2l0ZW1zLmxlbmd0aDsgaysrKXtcblx0XHRcdGlmKCBwYWdlX25hdl9pdGVtc1trXS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpICYmIGsgPCBwYWdlX25hdl9pdGVtcy5sZW5ndGggLSAxKXtcblx0XHRcdFx0cGFnZV9uYXZfaXRlbXNbayArIDFdLmZpcnN0Q2hpbGQuY2xpY2soKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0c2VjdGlvbl9uZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2VjdGlvbk5leHQsIGZhbHNlKTtcblxuXHQvLyAtIHBhZ2UgbmF2IHRvZ2dsZVxuXHR2YXIgcGFnZU5hdlRvZ2dsZSA9IGZ1bmN0aW9uKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XG5cdFx0cGFnZV9uYXZfd3JhcC5jbGFzc0xpc3QudG9nZ2xlKCdyZXZlYWwnKTtcblx0fTtcblxuXHRwYWdlX25hdl90b2dnbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwYWdlTmF2VG9nZ2xlLCBmYWxzZSk7XG5cblx0Ly8gLSBwYWdlIG5hdiBsaW5rc1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHBhZ2VfbmF2X2xpbmsubGVuZ3RoOyBpKyspIHtcblx0ICAgIHBhZ2VfbmF2X2xpbmtbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuXHQgICAgXHRwYWdlX25hdl93cmFwLmNsYXNzTGlzdC5yZW1vdmUoJ3JldmVhbCcpO1xuXHQgICAgfSwgZmFsc2UpO1xuXHR9XG5cdFxuXG5cdC8vIGRlZmluZSBwYWdlIG5hdmlnYXRpb24gYmVoYXZpb3VyIG9uIHNjcm9sbFxuXHR2YXIgdGltZXI7XG5cdFxuXHR3aW5kb3cub25zY3JvbGwgPSBmdW5jdGlvbihldmVudCkge1xuICAgIFx0aWYodGltZXIpIHtcblx0XHRcdHdpbmRvdy5jbGVhclRpbWVvdXQodGltZXIpO1xuXHRcdH1cblxuXHRcdHRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRjdXJyZW50X3NlZ21lbnQoKTtcblx0XHR9LCAxMDApO1xuXHR9O1xuXG5cdGN1cnJlbnRfc2VnbWVudCgpO1xuXG5cblx0Ly8gUHJldmlldyBzbGlkZXIgaW5pdFxuXHR2YXIgcHJldmlld19zbGlkZXIgPSBuZXcgU3dpcGVyKCcucHJldmlldy1zbGlkZXInLCB7XG5cdCBcdHNsaWRlc1BlclZpZXc6IDEsXG5cdCBcdHNwZWVkOiA0MDAsXG5cdFx0cGFnaW5hdGlvbjoge1xuXHQgICAgICAgIGVsOiAnLnN3aXBlci1wYWdpbmF0aW9uJyxcblx0ICAgICAgICBjbGlja2FibGU6IHRydWUsXG5cdCAgICB9LFxuXHQgICAgd2F0Y2hPdmVyZmxvdzogdHJ1ZSxcblx0XHRzaW11bGF0ZVRvdWNoOiBmYWxzZSxcblx0XHRvYnNlcnZlcjogdHJ1ZSxcblx0XHRvYnNlcnZlUGFyZW50czogdHJ1ZSxcblx0XHRhdXRvSGVpZ2h0OiB0cnVlXG5cdH0pO1xuXG5cblx0Ly8gVmlkZW8gc3RhcnQgZm9yIHRhcmdldCB0aW1lXG5cdHZhciBwbGF5X2NvbnRyb2xzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBsYXktdmlkZW8nKTtcblxuXHR2YXIgcGxheVZpZGVvID0gZnVuY3Rpb24oZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcblx0XHR2YXIgdGFyZ2V0X3ZpZGVvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltzcmMqPSBcIiArIHRoaXMuZGF0YXNldC50YXJnZXQgKyBcIl1cIik7XG5cdFx0dmFyIHN5bWJvbCA9IHRhcmdldF92aWRlby5kYXRhc2V0LnNyYy5pbmRleE9mKFwiP1wiKSA+IC0xID8gXCImXCIgOiBcIj9cIjtcblx0XHR2YXIgdGltZXN0YW1wID0gdG9TZWNvbmRzT25seSh0aGlzLmRhdGFzZXQudGltZSk7XG5cbiAgXHRcdHRhcmdldF92aWRlby5zcmMgPSB0YXJnZXRfdmlkZW8uZGF0YXNldC5zcmMgKyBzeW1ib2wgKyBcImF1dG9wbGF5PTFcIiArIFwiJnN0YXJ0PVwiICsgdGltZXN0YW1wO1xuXHR9O1xuXG5cdGlmICggcGxheV9jb250cm9scyApIHtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHBsYXlfY29udHJvbHMubGVuZ3RoOyBpKyspIHtcblx0XHQgICAgcGxheV9jb250cm9sc1tpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHBsYXlWaWRlbywgZmFsc2UpO1xuXHRcdH1cblx0fVxuXG5cblx0Ly8gRm9ybSBpbnRlcmFjdGlvbiBjbGFzcyBoYW5kbGVcblx0dmFyIGZvcm1faW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybV9faW5wdXQnKTtcblxuXHR2YXIgaW5wdXRGb2N1cyA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBwYXJlbnQgPSBnZXRDbG9zZXN0KHRoaXMsICcuZm9ybV9fZ3JvdXAnKTtcblx0XHRwYXJlbnQuY2xhc3NMaXN0LmFkZCgnZm9jdXMnKVxuXHR9O1xuXG5cdHZhciBpbnB1dEJsdXIgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgcGFyZW50ID0gZ2V0Q2xvc2VzdCh0aGlzLCAnLmZvcm1fX2dyb3VwJyk7XG5cdFx0cGFyZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2ZvY3VzJylcblx0fTtcblxuXHRpZiAoIGZvcm1faW5wdXQgKSB7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBmb3JtX2lucHV0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0ICAgIGZvcm1faW5wdXRbaV0uYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBpbnB1dEZvY3VzLCBmYWxzZSk7XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBmb3JtX2lucHV0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0ICAgIGZvcm1faW5wdXRbaV0uYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGlucHV0Qmx1ciwgZmFsc2UpO1xuXHRcdH1cblx0fVxufSk7XG5cbi8vIGNvbnZlcnQgdGltZSBpbiBtbTpzcyBvciBoaDptbTpzcyB0byBzaW1wbGUgdmFsdWVcbmZ1bmN0aW9uIHRvU2Vjb25kc09ubHkodGltZV9mb3JtYXQpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICB2YXIgZGlnaXQgPSB0aW1lX2Zvcm1hdC5zcGxpdCgnOicpLFxuICAgICAgICBzZWNvbmRzID0gMCwgbXVsdGkgPSAxO1xuXG4gICAgd2hpbGUgKGRpZ2l0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgc2Vjb25kcyArPSBtdWx0aSAqIHBhcnNlSW50KGRpZ2l0LnBvcCgpLCAxMCk7XG4gICAgICAgIG11bHRpICo9IDYwO1xuICAgIH1cblxuICAgIHJldHVybiBzZWNvbmRzO1xufVxuXG4vLyBoZWxwZXIgZnVuY3Rpb24gdG8gZmluZCBjbG9zZXN0IG1hdGNoZXMgcGFyZW50cyB1cCB0aGUgdHJlZVxudmFyIGdldENsb3Nlc3QgPSBmdW5jdGlvbiAoIGVsZW0sIHNlbGVjdG9yICkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHQvLyBFbGVtZW50Lm1hdGNoZXMoKSBwb2x5ZmlsbFxuXHRpZiAoIUVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMpIHtcblx0XHRFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzID1cblx0XHRcdEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXNTZWxlY3RvciB8fFxuXHRcdFx0RWxlbWVudC5wcm90b3R5cGUubW96TWF0Y2hlc1NlbGVjdG9yIHx8XG5cdFx0XHRFbGVtZW50LnByb3RvdHlwZS5tc01hdGNoZXNTZWxlY3RvciB8fFxuXHRcdFx0RWxlbWVudC5wcm90b3R5cGUub01hdGNoZXNTZWxlY3RvciB8fFxuXHRcdFx0RWxlbWVudC5wcm90b3R5cGUud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8XG5cdFx0XHRmdW5jdGlvbihzKSB7XG5cdFx0XHRcdHZhciBtYXRjaGVzID0gKHRoaXMuZG9jdW1lbnQgfHwgdGhpcy5vd25lckRvY3VtZW50KS5xdWVyeVNlbGVjdG9yQWxsKHMpLFxuXHRcdFx0XHRcdGkgPSBtYXRjaGVzLmxlbmd0aDtcblx0XHRcdFx0d2hpbGUgKC0taSA+PSAwICYmIG1hdGNoZXMuaXRlbShpKSAhPT0gdGhpcykge31cblx0XHRcdFx0cmV0dXJuIGkgPiAtMTtcblx0XHRcdH07XG5cdH1cblxuXHQvLyBHZXQgY2xvc2VzdCBtYXRjaFxuXHRmb3IgKCA7IGVsZW0gJiYgZWxlbSAhPT0gZG9jdW1lbnQ7IGVsZW0gPSBlbGVtLnBhcmVudE5vZGUgKSB7XG5cdFx0aWYgKCBlbGVtLm1hdGNoZXMoIHNlbGVjdG9yICkgKSByZXR1cm4gZWxlbTtcblx0fVxuXG5cdHJldHVybiBudWxsO1xufTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
